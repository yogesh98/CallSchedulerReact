{"ast":null,"code":"import { LoginUser, SignUpService, LogoutUser } from '../../../../services/User/AuthService';\nexport const signUpAction = credentials => {\n  // console.log(credentials);\n  return dispatch => {\n    dispatch({\n      type: 'RESTART_AUTH_RESPONSE'\n    });\n    dispatch({\n      type: 'LOADING'\n    });\n    SignUpService(credentials).then(res => {\n      if (res.hasOwnProperty('success') && res.success == true) {\n        dispatch({\n          type: 'SIGNUP_SUCCESS',\n          res\n        });\n      } else if (res.hasOwnProperty('success') && res.success == false) {\n        dispatch({\n          type: 'SIGNUP_ERROR',\n          res\n        });\n      }\n    }, error => {\n      dispatch({\n        type: 'CODE_ERROR',\n        error\n      });\n    });\n  };\n};\nexport const UserLoginAction = (credentials, props) => {\n  return dispatch => {\n    dispatch({\n      type: 'RESTART_AUTH_RESPONSE'\n    });\n    dispatch({\n      type: 'LOADING'\n    });\n    LoginUser(credentials).then(res => {\n      console.log(res.token);\n\n      if (res.success == true && res.hasOwnProperty('token')) {\n        console.log('ready to login user with ' + res.token);\n        localStorage.setItem('user-token', 'Bearer ' + res.token);\n        dispatch({\n          type: 'LOGIN_SUCCESS'\n        });\n        setTimeout(() => {\n          console.log(props);\n          props.history.push(\"/user\");\n          dispatch({\n            type: 'RESTART_AUTH_RESPONSE'\n          });\n        }, 1500);\n      } else if (res.success == false) {\n        dispatch({\n          type: 'LOGIN_ERROR',\n          res\n        });\n      }\n    }, error => {\n      dispatch({\n        type: 'CODE_ERROR',\n        error\n      });\n      console.log(error);\n    });\n  };\n};\nexport const UserLogOutAction = () => {\n  return dispatch => {\n    dispatch({\n      type: 'RESTART_AUTH_RESPONSE'\n    });\n    LogoutUser().then(res => {\n      console.log(res);\n\n      if (res.success == true) {\n        dispatch({\n          type: 'LOGOUT_SUCCESS',\n          res\n        });\n      } else if (res.success == false) {\n        dispatch({\n          type: 'LOGOUT_ERROR',\n          res\n        });\n      }\n    }, error => {\n      dispatch({\n        type: 'CODE_ERROR',\n        error\n      });\n      console.log(error);\n    });\n  };\n};\nexport const clearUserAuthState = () => {\n  return dispatch => {\n    dispatch({\n      type: 'RESTART_AUTH_RESPONSE'\n    });\n  };\n};","map":{"version":3,"sources":["/Users/yogeshpatel/Developer/call-scheduler-react/src/store/actions/User/Auth/AuthActions.js"],"names":["LoginUser","SignUpService","LogoutUser","signUpAction","credentials","dispatch","type","then","res","hasOwnProperty","success","error","UserLoginAction","props","console","log","token","localStorage","setItem","setTimeout","history","push","UserLogOutAction","clearUserAuthState"],"mappings":"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","sourcesContent":["import {LoginUser,SignUpService,LogoutUser} from '../../../../services/User/AuthService'\n\n\n\n\n\n\nexport const signUpAction = (credentials) =>{\n    // console.log(credentials);\n    return (dispatch)=>{\n        \n        dispatch({type:'RESTART_AUTH_RESPONSE'});\n        dispatch({type:'LOADING'});\n\n        SignUpService(credentials).then((res)=>{\n            \n            if(res.hasOwnProperty('success') && res.success==true){\n\n                dispatch({type:'SIGNUP_SUCCESS',res});\n                \n            }else if(res.hasOwnProperty('success') && res.success==false) { \n                dispatch({type:'SIGNUP_ERROR',res})\n            }\n        },\n        error=>{\n            dispatch({type:'CODE_ERROR',error});\n        }\n        )\n    }\n    \n}\n\n\nexport const UserLoginAction = (credentials,props) =>\n{\n    \n\n return (dispatch)=>{\n\n\n    dispatch({type:'RESTART_AUTH_RESPONSE'});\n    dispatch({type:'LOADING'});\n     LoginUser(credentials).then((res)=>{\n         console.log(res.token);\n        if(res.success==true && res.hasOwnProperty('token')){\n            console.log('ready to login user with '+res.token)\n            localStorage.setItem('user-token','Bearer '+res.token);\n            dispatch({type:'LOGIN_SUCCESS'});\n            setTimeout(() => {\n                console.log(props)\n                props.history.push(\"/user\");  \n                dispatch({type:'RESTART_AUTH_RESPONSE'}); \n            }, 1500);\n            \n        }else if(res.success==false){\n            dispatch({type:'LOGIN_ERROR',res})\n        }\n           \n    },\n    error=>{\n        dispatch({type:'CODE_ERROR',error});\n        console.log(error)\n    }\n    \n     )\n }   \n}\n\n\nexport const UserLogOutAction = () =>\n{\n    \n\n return (dispatch)=>{\n\n\n    dispatch({type:'RESTART_AUTH_RESPONSE'});\n     LogoutUser().then((res)=>{\n         console.log(res);\n        if(res.success==true){\n            dispatch({type:'LOGOUT_SUCCESS',res});\n\n        }else if(res.success==false){\n            dispatch({type:'LOGOUT_ERROR',res})\n\n        }\n\n           \n    },\n    error=>{\n        dispatch({type:'CODE_ERROR',error});\n        console.log(error)\n    }\n    \n     )\n }   \n}\n\n\nexport const clearUserAuthState = () =>\n{\n    return (dispatch) =>\n    {\n        dispatch({type:'RESTART_AUTH_RESPONSE'});\n    }\n  \n}\n\n\n"]},"metadata":{},"sourceType":"module"}